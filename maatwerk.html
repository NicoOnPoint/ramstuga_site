<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="2UIIHORHjkxL9QhuB3L2xs6My-mrajRxU3icgTAwJ1I">
  <title>M√•ttbest√§llt ‚Äì RAMSTUGA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="assets/style.css">

<link rel="icon" href="assets/favicon/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
<link rel="apple-touch-icon" href="assets/favicon/apple-touch-icon.png">

</head>

<body class="page-sv">

<header class="site-header">
  <div class="container nav">

    <!-- LOGO + MERKNAAM -->
    <a class="brand" href="index.html">
      <img src="assets/logo.png" alt="RAMSTUGA logo" class="site-logo">
      <span class="brand-text">RAMSTUGA</span>
    </a>

    <nav class="site-nav">
      <ul id="siteMenu">
        <li><a href="index.html">Hem</a></li>
        <li><a href="about.html">Om oss</a></li>
        <li><a href="maatwerk.html">M√•ttbest√§llt</a></li>
        <li><a href="portfolio.html">Portfolio</a></li>
        <li><a href="shop.html">Shop</a></li>

        <li class="lang-switch" aria-label="Spr√•k">
          <a href="maatwerk.html" data-lang="sv">SV</a>
          <span>‚Ä¢</span>
          <a href="en/maatwerk.html" data-lang="en">EN</a>
          <span>‚Ä¢</span>
          <a href="nl/maatwerk.html" data-lang="nl">NL</a>
        </li>

        <!-- WINKELWAGEN -->
        <li class="nav-cart-item">
          <a href="shop.html" class="nav-cart" aria-label="Varukorg">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6h15l-2 9H7L6 6Z" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
              <path d="M6 6 5 3H2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
              <circle cx="9" cy="20" r="1" fill="currentColor"/>
              <circle cx="18" cy="20" r="1" fill="currentColor"/>
            </svg>
            <span id="cartCount" class="cart-count">0</span>
          </a>
        </li>
      </ul>

      <button class="nav-toggle" type="button" aria-label="Menu" aria-expanded="false">
        ‚ò∞
      </button>
    </nav>

  </div>
</header>

<main class="maatwerk">

  <!-- HERO (zelfde houten background komt uit body) -->
  <section class="about-hero">
    <div class="container about-hero-inner">
      <div class="about-plaque" aria-hidden="true"></div>
      <h1 class="about-title type-title" data-text="M√•ttbest√§llt"></h1>
      <p class="about-subtitle type-title-late typewriter" data-text="L√•t en ram g√∂ras som passar perfekt i ditt hem.">
        L√•t en ram g√∂ras som passar perfekt i ditt hem.
      </p>
    </div>
  </section>

  <!-- FORM BLOK (cream/linen stijl zoals story/about-story) -->
  <section class="about-story">
    <div class="container" style="width:min(1100px,92vw);">
      <div class="section-title" style="margin-bottom:18px;">
        <h2>M√•ttbest√§llning</h2>
        <div class="subtle">Fyll i s√• mycket som m√∂jligt ‚Äî d√• kan vi svara snabbt.</div>
      </div>

      <div class="card pad" style="max-width: 980px; margin: 0 auto;">
        <form id="customOrderForm">

          <!-- AFMETINGEN -->
          <div class="form-grid">
            <label>
              Inv√§ndig bredd (mm)
              <input type="number" name="width_mm" min="1" required placeholder="T.ex. 300" />
            </label>
            <label>
              Inv√§ndig h√∂jd (mm)
              <input type="number" name="height_mm" min="1" required placeholder="T.ex. 400" />
            </label>
          </div>

          <div class="form-grid">
            <label>
              Ramens tjocklek (mm)
              <select name="frame_thickness_mm" required>
                <option value="25">25 mm</option>
                <option value="35" selected>35 mm</option>
                <option value="45">45 mm</option>
                <option value="custom">Annat (ange i √∂nskem√•l)</option>
              </select>
            </label>

            <label>
              F√∂r foto/konst: synligt f√∂nster (mm)
              <input type="text" name="window_mm" placeholder="T.ex. 280x380 (valfritt)" />
            </label>
          </div>

          <!-- HOUT / KLEUR -->
          <div class="form-grid">
            <label>
              Tr√§slag
              <select name="wood_type" required>
                <option value="gerecycled" selected>√Ötervunnet tr√§ (rustikt)</option>
                <option value="grenen">Grenen</option>
                <option value="eiken">Eiken</option>
                <option value="berk">Berk</option>
                <option value="anders">Annat (ange i √∂nskem√•l)</option>
              </select>
            </label>

            <label>
              Ytbehandling / f√§rg
              <select name="finish" required>
                <option value="naturel" selected>Naturlig / matt olja</option>
                <option value="licht">Ljus (whitewash / ljus olja)</option>
                <option value="donker">M√∂rk (valn√∂tslook)</option>
                <option value="grijs">Gr√•, v√§derbiten</option>
                <option value="kleur">F√§rg (ange i √∂nskem√•l)</option>
              </select>
            </label>
          </div>

          <!-- ORI√ãNTATIE / GLAS / OPHANGING -->
          <div class="form-grid">
            <label>
              Orientering
              <select name="orientation" required>
                <option value="staand">St√•ende</option>
                <option value="liggend">Liggande</option>
                <option value="vierkant">Kvadratisk</option>
              </select>
            </label>

            <label>
              Glas / plexi
              <select name="front" required>
                <option value="geen" selected>Ingen (√∂ppen ram)</option>
                <option value="glas">Glas</option>
                <option value="plexi">Plexiglas</option>
              </select>
            </label>
          </div>

          <div class="form-grid">
            <label>
              Upph√§ngning
              <select name="hanging" required>
                <option value="standaard" selected>Standard (beslag/krok)</option>
                <option value="tandhanger">Tandhake</option>
                <option value="draad">Wire</option>
                <option value="anders">Annat (ange i √∂nskem√•l)</option>
              </select>
            </label>

            <label>
              Antal
              <input type="number" name="qty" min="1" value="1" required />
            </label>
          </div>

          <!-- WENSEN -->
          <label>
            Specifika √∂nskem√•l (f√§rgkod, referensl√§nk, h√∂rnfinish, etc.)
            <textarea name="notes" placeholder="Ber√§tta vad du har i √•tanke‚Ä¶"></textarea>
          </label>

          <!-- CONTACT -->
          <div class="section-title" style="margin-top:16px;">
            <h2>Kontakt</h2>
            <div class="subtle">F√∂r offert/avst√§mning</div>
          </div>

          <div class="form-grid">
            <label>
              Namn
              <input type="text" name="customer_name" required placeholder="Ditt namn" />
            </label>
            <label>
              E-post
              <input type="email" name="customer_email" required placeholder="naam@mail.nl" />
            </label>
          </div>

          <label>
            Telefon (valfritt)
            <input type="tel" name="customer_phone" placeholder="+46 / +31 / ..." />
          </label>

          <!-- ACTIES -->
          <div class="form-actions">
            <button class="btn primary" type="submit">
              L√§gg i varukorg
            </button>

            <button class="btn" type="button" id="mailBtn">
              Skicka som e-post
            </button>

            <span class="subtle" id="statusMsg" aria-live="polite"></span>
          </div>

          <p class="fineprint">
            * M√•ttbest√§llningar hanteras oftast som offert. Efter mottagande kontaktar vi dig om pris och leveranstid.
          </p>
          <div class="contact-buttons">
            <a class="btn" href="tel:+46707106182">Ring</a>
            <a class="btn" href="sms:+46707106182?body=Hallo%2C%20ik%20wil%20meer%20informatie%20over%20lijsten">SMS</a>
            <a class="btn" href="https://wa.me/46707106182?text=Hej%2C%20jag%20vill%20ha%20mer%20information" target="_blank" rel="noopener">WhatsApp</a>
          </div>
        </form>
      </div>
    </div>
  </section>

</main>

<footer class="site-footer">
  <div class="container footer-inner">

    <div class="footer-plaque" role="contentinfo" aria-label="Kontaktuppgifter">
      <div class="plaque-content">
        <p class="plaque-brand"></p>

        <p class="plaque-line">
          <strong>E-post:</strong>
          <a href="mailto:info@ramstuga.se">info@ramstuga.se</a>
        </p>

        <p class="plaque-line">
          <strong>Namn:</strong> Nico &amp; Barbara
        </p>

        <p class="plaque-line subtle">
          Handgjort f√∂r ditt hem
        </p>
      </div>
    </div>

    <p class="footer-credit">¬© Webdesign by<br>
      <a href="https://www.nico-on-point-webdesign.com" target="_blank" rel="noopener">www.nico-on-point-webdesign.com</a>
    </p>

    <div class="contact-buttons">
      <a class="btn" href="tel:+46707106182">Ring</a>
      <a class="btn" href="sms:+46707106182?body=Hallo%2C%20ik%20wil%20meer%20informatie%20over%20lijsten">SMS</a>
      <a class="btn" href="https://wa.me/46707106182?text=Hej%2C%20jag%20vill%20ha%20mer%20information" target="_blank" rel="noopener">WhatsApp</a>
    </div>

    <p class="footer-copy">¬© <span id="year"></span> RAMSTUGA</p>

  </div>
</footer>

<script src="assets/script.js"></script>

<script>
  // ---------- Helpers ----------
  function getCart() {
    try {
      const raw = localStorage.getItem("ramstuga_cart") || "[]";
      const parsed = JSON.parse(raw);
      return Array.isArray(parsed) ? parsed : [];
    } catch {
      return [];
    }
  }

  function setCart(items) {
    localStorage.setItem("ramstuga_cart", JSON.stringify(items));
    updateCartBadge();
  }

  function updateCartBadge() {
    const items = getCart();
    const count = items.reduce((sum, it) => sum + (Number(it.qty) || 0), 0);
    const el = document.getElementById("cartCount");
    if (el) el.textContent = String(count);
  }

  function formToObject(form) {
    const data = new FormData(form);
    const obj = {};
    for (const [k, v] of data.entries()) obj[k] = String(v).trim();
    return obj;
  }

  function buildSummary(o) {
    return [
      `M√•ttbest√§lld ram`,
      ``,
      `M√•tt: ${o.width_mm} x ${o.height_mm} mm`,
      `Ramens tjocklek: ${o.frame_thickness_mm} mm`,
      o.window_mm ? `F√∂nster: ${o.window_mm}` : null,
      `Tr√§: ${o.wood_type}`,
      `Ytbehandling: ${o.finish}`,
      `Orientering: ${o.orientation}`,
      `Glas/Plexi: ${o.front}`,
      `Upph√§ngning: ${o.hanging}`,
      `Antal: ${o.qty}`,
      ``,
      `√ñnskem√•l: ${o.notes || "-"}`,
      ``,
      `Kontakt: ${o.customer_name} (${o.customer_email}${o.customer_phone ? ", " + o.customer_phone : ""})`
    ].filter(Boolean).join("\n");
  }

  // ---------- Init ----------
  updateCartBadge();
  const yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  // ---------- Form handlers ----------
  const form = document.getElementById("customOrderForm");
  const statusMsg = document.getElementById("statusMsg");
  const mailBtn = document.getElementById("mailBtn");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const o = formToObject(form);

    const cart = getCart();
    cart.push({
      id: "maatwerk-" + Date.now(),
      type: "maatwerk",
      title: "Maatwerk lijst",
      qty: Number(o.qty) || 1,
      price: 0, // offerte (later prijs)
      meta: o,
      summary: buildSummary(o)
    });

    setCart(cart);

    if (statusMsg) statusMsg.textContent = "Tillagd i varukorgen ‚úÖ";
    // Optioneel doorsturen:
    // window.location.href = "shop.html";
  });

  mailBtn.addEventListener("click", () => {
    const o = formToObject(form);
    const subject = encodeURIComponent("M√•ttbest√§llning ‚Äì RAMSTUGA");
    const body = encodeURIComponent(buildSummary(o));
    window.location.href = `mailto:info@ramstuga.se?subject=${subject}&body=${body}`;
  });
</script>

<!-- LIGHTBOX -->
<div id="lightbox" aria-hidden="true">
  <button class="lightbox-close" aria-label="St√§ng">√ó</button>
  <button class="lightbox-prev" aria-label="F√∂reg√•ende">‚Äπ</button>
  <img id="lightbox-img" alt="">
  <button class="lightbox-next" aria-label="N√§sta">‚Ä∫</button>
</div>
<!-- Floating contact (fixed) -->
<div class="floating-contact" aria-hidden="false">
  <a class="btn" href="tel:+46707106182" aria-label="Ring Nico">üìû Ring</a>
  <a class="btn secondary" href="sms:+46707106182?body=Hej%2C%20jag%20vill%20ha%20mer%20information%20om%20ramar" aria-label="SMS Nico">‚úâÔ∏è SMS</a>
  <a class="btn" href="https://wa.me/46707106182?text=Hej%2C%20jag%20vill%20ha%20mer%20information" target="_blank" rel="noopener" aria-label="WhatsApp Nico">üí¨ WhatsApp</a>
</div>

</body>
</html>
